{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst textArea = form.elements.message;\nconst email = form.elements.email;\nconst submittedMsgs = [];\n\nlet msgBox = document.createElement('p');\nmsgBox.textContent = 'Wrong values, please type in Email and Message';\nmsgBox.classList.add('msg-box');\nmsgBox.classList.add('visually-hidden');\nform.prepend(msgBox);\n\nconst initialLoad = () => {\n  try {\n    const exportedValues = JSON.parse(\n      localStorage.getItem('feedback-form-state')\n    );\n    if (exportedValues === null) {\n      return;\n    }\n    email.value = exportedValues.email ?? '';\n    textArea.value = exportedValues.message ?? '';\n  } catch (error) {\n    console.log(error);\n  }\n};\n\ninitialLoad();\n\nconst onFormInput = event => {\n  const savedValues = JSON.parse(localStorage.getItem('feedback-form-state'));\n  const { target: targetElement } = event;\n  const inputName = targetElement.name;\n  const inputValue = targetElement.value.trim();\n  savedValues[inputName] = inputValue;\n  localStorage.setItem('feedback-form-state', JSON.stringify(savedValues));\n};\n\nform.addEventListener('input', onFormInput);\n\nconst onSubmit = event => {\n  event.preventDefault();\n  if (textArea.value !== '' && email.value !== '') {\n    submittedMsgs.push(savedValues);\n    msgBox.classList.add('visually-hidden');\n    localStorage.removeItem('feedback-form-state');\n    form.reset();\n    console.log(submittedMsgs);\n  } else {\n    msgBox.classList.remove('visually-hidden');\n  }\n};\n\nform.addEventListener('submit', onSubmit);\n"],"names":["form","textArea","email","submittedMsgs","msgBox","initialLoad","exportedValues","error","onFormInput","event","savedValues","targetElement","inputName","inputValue","onSubmit"],"mappings":"oCAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAWD,EAAK,SAAS,QACzBE,EAAQF,EAAK,SAAS,MACtBG,EAAgB,CAAA,EAEtB,IAAIC,EAAS,SAAS,cAAc,GAAG,EACvCA,EAAO,YAAc,iDACrBA,EAAO,UAAU,IAAI,SAAS,EAC9BA,EAAO,UAAU,IAAI,iBAAiB,EACtCJ,EAAK,QAAQI,CAAM,EAEnB,MAAMC,EAAc,IAAM,CACxB,GAAI,CACF,MAAMC,EAAiB,KAAK,MAC1B,aAAa,QAAQ,qBAAqB,CAChD,EACI,GAAIA,IAAmB,KACrB,OAEFJ,EAAM,MAAQI,EAAe,OAAS,GACtCL,EAAS,MAAQK,EAAe,SAAW,EAC5C,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,EAEAF,IAEA,MAAMG,EAAcC,GAAS,CAC3B,MAAMC,EAAc,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EACpE,CAAE,OAAQC,CAAe,EAAGF,EAC5BG,EAAYD,EAAc,KAC1BE,EAAaF,EAAc,MAAM,KAAI,EAC3CD,EAAYE,CAAS,EAAIC,EACzB,aAAa,QAAQ,sBAAuB,KAAK,UAAUH,CAAW,CAAC,CACzE,EAEAV,EAAK,iBAAiB,QAASQ,CAAW,EAE1C,MAAMM,EAAWL,GAAS,CACxBA,EAAM,eAAc,EAChBR,EAAS,QAAU,IAAMC,EAAM,QAAU,IAC3CC,EAAc,KAAK,WAAW,EAC9BC,EAAO,UAAU,IAAI,iBAAiB,EACtC,aAAa,WAAW,qBAAqB,EAC7CJ,EAAK,MAAK,EACV,QAAQ,IAAIG,CAAa,GAEzBC,EAAO,UAAU,OAAO,iBAAiB,CAE7C,EAEAJ,EAAK,iBAAiB,SAAUc,CAAQ"}